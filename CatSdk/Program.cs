using System.Text;
using CatSdk.Facade;
using CatSdk.Symbol;
using CatSdk.Symbol.Factory;
using CatSdk.Utils;
using PublicKey = CatSdk.Symbol.PublicKey;
using Signature = CatSdk.Symbol.Signature;
using Hash256 = CatSdk.Symbol.Hash256;

var Facade = new SymbolFacade(Network.TestNet);
var payload = "9E00000000000000C8BE2E3FBBCB8B448B30416D079EAD7422BC2C6B27106B8A78EA0BD0FA4EB87750EAA3DC387EAAF9F0D0476194D19F974C320CCB306299BE0A04877C95B361D3FB36DBBD3944A969969707CC0FE8DDADB58F3FECC7256492D867A36BBCA52EA80000000001984E41E0FEEEEFFEEEEFFEE0711EE7711EE77110270000000000007EE9B3B8AFDF53C0000C6E65776E616D657370616365";
var descriptor = new Dictionary<string, object>(){
    {"Type", "namespace_registration_transaction"},
    {"Duration", 10000},
    {"Id", 13858666424160217470},
    {"RegistrationType", "ROOT"},
    {"Name", "newnamespace"},
    {"SignerPublicKey", "fb36dbbd3944a969969707cc0fe8ddadb58f3fecc7256492d867a36bbca52ea8"},
    {"Signature", "C8BE2E3FBBCB8B448B30416D079EAD7422BC2C6B27106B8A78EA0BD0FA4EB87750EAA3DC387EAAF9F0D0476194D19F974C320CCB306299BE0A04877C95B361D3"},
    {"Fee", 18370164183782063840},
    {"Deadline", 8207562320463688160},
};
var tx = Facade.TransactionFactory.Create(descriptor);
Console.WriteLine(Converter.Uint8ToHex(((NamespaceRegistrationTransaction)tx).ParentId.Serialize()));
Console.WriteLine(((NamespaceRegistrationTransaction) tx).RegistrationType.Value == NamespaceRegistrationType.ROOT.Value);
Console.WriteLine(Converter.Uint8ToHex(((NamespaceRegistrationTransaction)tx).Duration.Serialize()));
Console.WriteLine(Converter.Uint8ToHex(((NamespaceRegistrationTransaction)tx).Serialize()));
//900000000000000018C22F49E6084339838A752F2B73FF33238B6FDD48401BB9B9F3FB95A0BCF2099971FD693F738FF806982F1F2C2C05E71A66DDB115E97B8BF6256617FF110D5B56DA5B35651B942502DB53D4ECEFD4D81A261AAEADB3E147C90A8BDB3309A8700000000001985042E0FEEEEFFEEEEFFEE0711EE7711EE7710280010000000000D0CFD78612DDF5CA
//900000000000000018C22F49E6084339838A752F2B73FF33238B6FDD48401BB9B9F3FB95A0BCF2099971FD693F738FF806982F1F2C2C05E71A66DDB115E97B8BF6256617FF110D5B56DA5B35651B942502DB53D4ECEFD4D81A261AAEADB3E147C90A8BDB3309A8700000000001985042E0FEEEEFFEEEEFFEE0711EE7711EE77102800100000000004CCCD78612DDF5CA
/*
using CatSdk.Facade;
using CatSdk.Symbol;
using CatSdk.Symbol.Factory;
using CatSdk.Utils;
using PublicKey = CatSdk.Symbol.PublicKey;
using Signature = CatSdk.Symbol.Signature;
using Hash256 = CatSdk.Symbol.Hash256;
var Facade = new SymbolFacade(Network.TestNet);

var tx1 = Facade.TransactionFactory.CreateEmbedded(new Dictionary<string, object>()
{
    {"Type", TransactionType.ACCOUNT_ADDRESS_RESTRICTION},
    {"RestrictionFlags", AccountRestrictionFlags.ADDRESS},
    {"RestrictionAdditions", new UnresolvedAddress[]
    {
        new UnresolvedAddress(Converter.StringToAddress("TBA6LOHEA6A465G2X5MSQF66JBYR254GJDPK7MQ")),
        new UnresolvedAddress(Converter.StringToAddress("TD2ASJ2LKL5LX66PPZ67PYQN4HIMH5SX7OCZLQI")),
    }},
    {"RestrictionDeletions", new UnresolvedAddress[]
    {
        new UnresolvedAddress(Converter.StringToAddress("TCIFSMQZAX3IDPHUP2RTXP26N6BJRNKEBBKP33I"))
    }},
});

var payload = "28010000000000005BA55458518264117F13F8DA691B509FBFA3BAC5A6B127506DCE7B89CB92C692699937AB802C4FA695145697E236BE13869CAA10F88FD4307DCEAC637E4AECF68EA547C12B78537039BC5995D09E02731C17FD886A1379161124AB6323CDC8E80000000001984142E0FEEEEFFEEEEFFEE0711EE7711EE771553D90AFA4B171840BCBA16DB6F82A767C98344D5F6D5F2B0B05A8902D01BD4D800000000000000080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000198504101000201000000009841E5B8E40781CF74DABF592817DE48711D778648DEAFB298F409274B52FABBFBCF7E7DF7E20DE1D0C3F657FB8595C1989059321905F681BCF47EA33BBF5E6F8298B5440854FDED";
var descriptor = new Dictionary<string, object>(){
    {"Type", "aggregate_bonded_transaction"},
    {"Transactions", new IBaseTransaction[]
        {
        tx1
        }
    },
    {"SignerPublicKey", "8ea547c12b78537039bc5995d09e02731c17fd886a1379161124ab6323cdc8e8"},
    {"Signature", "5BA55458518264117F13F8DA691B509FBFA3BAC5A6B127506DCE7B89CB92C692699937AB802C4FA695145697E236BE13869CAA10F88FD4307DCEAC637E4AECF6"},
    {"Fee", 18370164183782063840},
    {"Deadline", 8207562320463688160},
    {"Cosignatures", Array.Empty<Cosignature>()},
    {"TransactionsHash", "553D90AFA4B171840BCBA16DB6F82A767C98344D5F6D5F2B0B05A8902D01BD4D"},
};
var tx = Facade.TransactionFactory.Create(descriptor);
Console.WriteLine(Converter.Uint8ToHex(tx.Serialize()));
*/